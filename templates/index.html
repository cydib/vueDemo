<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Examples</title>
    <meta name="description" content="">
    <meta name="keywords" content="">
    <link href="" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/vue/2.4.2/vue.min.js"></script>
    <script src="https://cdn.bootcss.com/fetch/2.0.4/fetch.js"></script>

</head>
<body>
{% verbatim myblock %}
    <div id="app">
        {{ info }}<br>
        {{ number }}<br>
        <button @click="add">add</button>
        <br>
        <input v-model="text">
        {{ text }}<br>
        {{ test() }}
        <ul>
            <li v-for="value in firut">{{ value }}</li>
        </ul>
        firut: {{ firut }}

    </div>
{% endverbatim myblock %}
<script>
    var app = new Vue({
        el: "#app",
        data: {
            info: "this the first vue app",
            number: 11,
            text: "text123",
            firut: [],
        },
        methods: {
            add: function () {
                this.number = this.number + 1;

            },
            test() {
                return "Hi"
            },

        },
        created: function () {
            fetch("/get/array", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                mode: "cors",
                credentials: "include",
                body: JSON.stringify({
                    content: "这里是body体"
                })
            }).then(function (respone) {
                return respone.json();
            }).then(function (json){
                console.log(json)
                app.firut = json
            })
        },
    });
</script>
</body>
</html>